# ğŸ—ï¸ Genesis Trading Bot - ASCII ArkitekturÃ¶versikt

## ğŸ“Š Huvudarkitektur

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           GENESIS TRADING BOT                                   â”‚
â”‚                              (Backend Core)                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                REST API                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚   /api/v2/      â”‚  â”‚   /api/v2/      â”‚  â”‚   /api/v2/      â”‚                â”‚
â”‚  â”‚   strategy/     â”‚  â”‚   risk/         â”‚  â”‚   orders/       â”‚                â”‚
â”‚  â”‚   regime/       â”‚  â”‚   status/       â”‚  â”‚   place/        â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              CORE SERVICES                                     â”‚
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚  SignalService  â”‚  â”‚  RiskManager    â”‚  â”‚  EnhancedAuto   â”‚                â”‚
â”‚  â”‚                 â”‚  â”‚                 â”‚  â”‚  Trader         â”‚                â”‚
â”‚  â”‚  â€¢ SignalScore  â”‚  â”‚  â€¢ TradingCB    â”‚  â”‚  â€¢ Policy-based â”‚                â”‚
â”‚  â”‚  â€¢ Confidence   â”‚  â”‚  â€¢ RiskGuards   â”‚  â”‚  â€¢ SignalScore  â”‚                â”‚
â”‚  â”‚  â€¢ Probability  â”‚  â”‚  â€¢ PolicyEngine â”‚  â”‚  â€¢ Integration  â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚ TradeConstraintsâ”‚  â”‚ MarketDataFacadeâ”‚  â”‚ ExchangeClient  â”‚                â”‚
â”‚  â”‚                 â”‚  â”‚                 â”‚  â”‚                 â”‚                â”‚
â”‚  â”‚  â€¢ Time/Slots   â”‚  â”‚  â€¢ WS-first     â”‚  â”‚  â€¢ Signing      â”‚                â”‚
â”‚  â”‚  â€¢ TradeCounter â”‚  â”‚  â€¢ REST fallbackâ”‚  â”‚  â€¢ Nonce mgmt   â”‚                â”‚
â”‚  â”‚  â€¢ TradingWindowâ”‚  â”‚  â€¢ CandleCache  â”‚  â”‚  â€¢ Auth headers â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            DATA LAYER                                          â”‚
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚  WebSocket      â”‚  â”‚  REST API       â”‚  â”‚  Indicators     â”‚                â”‚
â”‚  â”‚  Pool           â”‚  â”‚  (Bitfinex)     â”‚  â”‚                 â”‚                â”‚
â”‚  â”‚                 â”‚  â”‚                 â”‚  â”‚  â€¢ Regime       â”‚                â”‚
â”‚  â”‚  â€¢ Real-time    â”‚  â”‚  â€¢ Fallback     â”‚  â”‚  â€¢ ADX/EMA      â”‚                â”‚
â”‚  â”‚  â€¢ Subscriptionsâ”‚  â”‚  â€¢ Auth         â”‚  â”‚  â€¢ RSI/ATR      â”‚                â”‚
â”‚  â”‚  â€¢ Reconnect    â”‚  â”‚  â€¢ Rate limit   â”‚  â”‚  â€¢ Prob Model   â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            INFRASTRUCTURE                                      â”‚
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚  Rate Limiter   â”‚  â”‚  Circuit        â”‚  â”‚  Metrics        â”‚                â”‚
â”‚  â”‚                 â”‚  â”‚  Breakers       â”‚  â”‚                 â”‚                â”‚
â”‚  â”‚  â€¢ Token Bucket â”‚  â”‚                 â”‚  â”‚  â€¢ Prometheus   â”‚                â”‚
â”‚  â”‚  â€¢ Semaphores   â”‚  â”‚  â€¢ TransportCB  â”‚  â”‚  â€¢ Latency      â”‚                â”‚
â”‚  â”‚  â€¢ Endpoint     â”‚  â”‚  â€¢ TradingCB    â”‚  â”‚  â€¢ HTTP Errors  â”‚                â”‚
â”‚  â”‚    specific     â”‚  â”‚  â€¢ Auto-recoveryâ”‚  â”‚  â€¢ Performance  â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ DataflÃ¶de

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Market    â”‚â”€â”€â”€â–¶â”‚   Signal    â”‚â”€â”€â”€â–¶â”‚   Risk      â”‚â”€â”€â”€â–¶â”‚   Trading   â”‚
â”‚   Data      â”‚    â”‚   Service   â”‚    â”‚   Manager   â”‚    â”‚   Execution â”‚
â”‚             â”‚    â”‚             â”‚    â”‚             â”‚    â”‚             â”‚
â”‚ â€¢ WS-first  â”‚    â”‚ â€¢ SignalScoreâ”‚    â”‚ â€¢ Policy    â”‚    â”‚ â€¢ Orders    â”‚
â”‚ â€¢ REST      â”‚    â”‚ â€¢ Confidence â”‚    â”‚ â€¢ Guards    â”‚    â”‚ â€¢ Position  â”‚
â”‚ â€¢ Cache     â”‚    â”‚ â€¢ Probabilityâ”‚    â”‚ â€¢ Circuit   â”‚    â”‚ â€¢ Sizing    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                   â”‚                   â”‚                   â”‚
       â–¼                   â–¼                   â–¼                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Indicators â”‚    â”‚  Enhanced   â”‚    â”‚  Trade      â”‚    â”‚  Exchange   â”‚
â”‚             â”‚    â”‚  AutoTrader â”‚    â”‚  Constraintsâ”‚    â”‚  Client     â”‚
â”‚ â€¢ Regime    â”‚    â”‚             â”‚    â”‚             â”‚    â”‚             â”‚
â”‚ â€¢ ADX/EMA   â”‚    â”‚ â€¢ Policy    â”‚    â”‚ â€¢ Time      â”‚    â”‚ â€¢ Signing   â”‚
â”‚ â€¢ RSI/ATR   â”‚    â”‚ â€¢ SignalScoreâ”‚    â”‚ â€¢ Limits    â”‚    â”‚ â€¢ Nonce     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ›¡ï¸ Circuit Breaker Arkitektur

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           CIRCUIT BREAKERS                                     â”‚
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚     TransportCircuitBreaker     â”‚  â”‚     TradingCircuitBreaker       â”‚      â”‚
â”‚  â”‚                                 â”‚  â”‚                                 â”‚      â”‚
â”‚  â”‚  â€¢ NÃ¤tverk/HTTP (429/5xx)       â”‚  â”‚  â€¢ Handelspaus med orsak/TTL    â”‚      â”‚
â”‚  â”‚  â€¢ Per endpoint                  â”‚  â”‚  â€¢ Risk-baserad                â”‚      â”‚
â”‚  â”‚  â€¢ Auto-recovery                 â”‚  â”‚  â€¢ Policy-driven               â”‚      â”‚
â”‚  â”‚  â€¢ Rate limiting                 â”‚  â”‚  â€¢ Status endpoint             â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                        AdvancedRateLimiter                             â”‚    â”‚
â”‚  â”‚                                                                         â”‚    â”‚
â”‚  â”‚  â€¢ Token Bucket per endpoint-typ                                       â”‚    â”‚
â”‚  â”‚  â€¢ Semaphores fÃ¶r concurrency                                          â”‚    â”‚
â”‚  â”‚  â€¢ Context manager + decorators                                        â”‚    â”‚
â”‚  â”‚  â€¢ has_capacity() fÃ¶r snabb check                                      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“ˆ Signal Pipeline

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Market    â”‚â”€â”€â”€â–¶â”‚  Indicators â”‚â”€â”€â”€â–¶â”‚   Signal    â”‚â”€â”€â”€â–¶â”‚  Enhanced   â”‚
â”‚   Data      â”‚    â”‚             â”‚    â”‚   Service   â”‚    â”‚  AutoTrader â”‚
â”‚             â”‚    â”‚             â”‚    â”‚             â”‚    â”‚             â”‚
â”‚ â€¢ Ticker    â”‚    â”‚ â€¢ Regime    â”‚    â”‚ â€¢ SignalScoreâ”‚    â”‚ â€¢ Policy    â”‚
â”‚ â€¢ Candles   â”‚    â”‚ â€¢ ADX       â”‚    â”‚ â€¢ Confidence â”‚    â”‚ â€¢ Execution â”‚
â”‚ â€¢ Orderbook â”‚    â”‚ â€¢ EMA       â”‚    â”‚ â€¢ Probabilityâ”‚    â”‚ â€¢ Sizing    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                   â”‚                   â”‚                   â”‚
       â–¼                   â–¼                   â–¼                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Cache     â”‚    â”‚   Prob      â”‚    â”‚   Features  â”‚    â”‚   Risk      â”‚
â”‚             â”‚    â”‚   Model     â”‚    â”‚             â”‚    â”‚   Manager   â”‚
â”‚ â€¢ CandleCacheâ”‚    â”‚             â”‚    â”‚ â€¢ ADX value â”‚    â”‚             â”‚
â”‚ â€¢ TickerCacheâ”‚    â”‚ â€¢ ML-based  â”‚    â”‚ â€¢ EMA value â”‚    â”‚ â€¢ Guards    â”‚
â”‚ â€¢ Debounce  â”‚    â”‚ â€¢ Hybrid    â”‚    â”‚ â€¢ Regime    â”‚    â”‚ â€¢ Policy    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ Service Dependencies

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           SERVICE DEPENDENCIES                                  â”‚
â”‚                                                                                 â”‚
â”‚  EnhancedAutoTrader                                                             â”‚
â”‚  â”œâ”€â”€ SignalGeneratorService                                                     â”‚
â”‚  â”œâ”€â”€ TradingIntegrationService                                                  â”‚
â”‚  â”œâ”€â”€ RealtimeStrategyService                                                    â”‚
â”‚  â””â”€â”€ PerformanceTracker                                                         â”‚
â”‚                                                                                 â”‚
â”‚  SignalGeneratorService                                                         â”‚
â”‚  â”œâ”€â”€ MarketDataFacade                                                           â”‚
â”‚  â”œâ”€â”€ SignalService                                                              â”‚
â”‚  â””â”€â”€ ProbModel                                                                  â”‚
â”‚                                                                                 â”‚
â”‚  MarketDataFacade                                                               â”‚
â”‚  â”œâ”€â”€ WSFirstDataService                                                         â”‚
â”‚  â”œâ”€â”€ BitfinexDataService                                                        â”‚
â”‚  â””â”€â”€ CandleCache                                                                â”‚
â”‚                                                                                 â”‚
â”‚  RiskManager                                                                    â”‚
â”‚  â”œâ”€â”€ RiskPolicyEngine                                                           â”‚
â”‚  â”œâ”€â”€ TradeConstraintsService                                                    â”‚
â”‚  â”œâ”€â”€ RiskGuards                                                                 â”‚
â”‚  â””â”€â”€ PerformanceTracker                                                         â”‚
â”‚                                                                                 â”‚
â”‚  TradeConstraintsService                                                        â”‚
â”‚  â”œâ”€â”€ TradeCounterService                                                        â”‚
â”‚  â””â”€â”€ TradingWindowService                                                       â”‚
â”‚                                                                                 â”‚
â”‚  ExchangeClient                                                                 â”‚
â”‚  â”œâ”€â”€ NonceManager                                                               â”‚
â”‚  â””â”€â”€ Settings                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“Š Observability Stack

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           OBSERVABILITY                                         â”‚
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚    Metrics      â”‚  â”‚    Logging      â”‚  â”‚    Status       â”‚                  â”‚
â”‚  â”‚                 â”‚  â”‚                 â”‚  â”‚                 â”‚                  â”‚
â”‚  â”‚  â€¢ Prometheus   â”‚  â”‚  â€¢ Structured   â”‚  â”‚  â€¢ REST         â”‚                  â”‚
â”‚  â”‚  â€¢ Latency      â”‚  â”‚  â€¢ JSON         â”‚  â”‚  â€¢ Real-time    â”‚                  â”‚
â”‚  â”‚  â€¢ HTTP Errors  â”‚  â”‚  â€¢ Levels       â”‚  â”‚  â€¢ Circuit      â”‚                  â”‚
â”‚  â”‚  â€¢ Performance  â”‚  â”‚  â€¢ Context      â”‚  â”‚  â€¢ Health       â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚    Circuit      â”‚  â”‚    Rate         â”‚  â”‚    Market       â”‚                  â”‚
â”‚  â”‚    Breaker      â”‚  â”‚    Limiter      â”‚  â”‚    Data         â”‚                  â”‚
â”‚  â”‚                 â”‚  â”‚                 â”‚  â”‚                 â”‚                  â”‚
â”‚  â”‚  â€¢ TransportCB  â”‚  â”‚  â€¢ Token Bucket â”‚  â”‚  â€¢ WS Stats     â”‚                  â”‚
â”‚  â”‚  â€¢ TradingCB    â”‚  â”‚  â€¢ Semaphores   â”‚  â”‚  â€¢ Cache Hits   â”‚                  â”‚
â”‚  â”‚  â€¢ Status       â”‚  â”‚  â€¢ Endpoint     â”‚  â”‚  â€¢ Fallbacks    â”‚                  â”‚
â”‚  â”‚  â€¢ Recovery     â”‚  â”‚  â€¢ Concurrency  â”‚  â”‚  â€¢ Latency      â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ Nyckelprinciper

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           ARKITEKTURPRINCIPER                                   â”‚
â”‚                                                                                 â”‚
â”‚  âœ… INGEN DUBLETTLOGIK                                                         â”‚ 
â”‚     â€¢ Signering/nonce endast i ExchangeClient                                   â”‚
â”‚     â€¢ WS-first/fallback endast i MarketDataFacade                               â”‚
â”‚     â€¢ Tid/antal/slots endast i TradeConstraintsService                          â”‚
â”‚                                                                                 â”‚
â”‚  âœ… TYDLIG NAMNSEPARATION                                                       â”‚
â”‚     â€¢ TransportCircuitBreaker (nÃ¤t/HTTP)                                       â”‚
â”‚     â€¢ TradingCircuitBreaker (handel)                                           â”‚
â”‚                                                                                 â”‚
â”‚  âœ… ENHETLIG DATAFLÃ–DE                                                          â”‚
â”‚     â€¢ SignalScore som enda payload                                             â”‚
â”‚     â€¢ Policy-driven beslut                                                     â”‚
â”‚     â€¢ Centraliserad konfiguration                                              â”‚
â”‚                                                                                 â”‚
â”‚  âœ… OBSERVABILITY-FIRST                                                        â”‚
â”‚     â€¢ FullstÃ¤ndig mÃ¤tning                                                      â”‚
â”‚     â€¢ Transparent status                                                       â”‚
â”‚     â€¢ Real-time monitoring                                                     â”‚
â”‚                                                                                 â”‚
â”‚  âœ… FAIL-SAFE DESIGN                                                           â”‚
â”‚     â€¢ Circuit breakers                                                          â”‚
â”‚     â€¢ Risk guards                                                               â”‚
â”‚     â€¢ Graceful degradation                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

_Skapad: 2025-09-08_
_Syfte: ASCII-Ã¶versikt av Genesis Trading Bot arkitektur_
