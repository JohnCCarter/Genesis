# ============================
# Genesis Trading Bot - ChatGPT Setup Environment
# ============================
# Detta är en förkonfigurerad .env-fil för ChatGPT att använda vid testning
# Alla värden är dummy-värden eller säkra defaults för utveckling

# --- Server & Frontend ---
HOST=127.0.0.1
PORT=8000
DEBUG=true
LOG_LEVEL=INFO
LOG_FILE=tradingbot.log
VITE_API_BASE=http://127.0.0.1:8000

# --- CORS ---
ALLOWED_ORIGINS=["http://localhost:3000","http://localhost:8080","http://localhost:5173","http://localhost:5174","http://127.0.0.1:5173","http://127.0.0.1:5174"]

# --- Auth (inaktiverat för enkel testning) ---
AUTH_REQUIRED=False
ACCESS_TOKEN_EXPIRE_MINUTES=30
SOCKETIO_JWT_SECRET=chatgpt-dev-jwt-secret-key
JWT_SECRET_KEY=chatgpt-dev-jwt-secret-key

# --- Bitfinex REST/WS (dummy-värden för testning) ---
BITFINEX_API_KEY=dummy_api_key_for_chatgpt_testing
BITFINEX_API_SECRET=dummy_secret_for_chatgpt_testing
BITFINEX_API_URL=https://api.bitfinex.com/v2
BITFINEX_AUTH_API_URL=
BITFINEX_PUBLIC_API_URL=https://api-pub.bitfinex.com/v2

BITFINEX_WS_API_KEY=dummy_ws_api_key_for_chatgpt_testing
BITFINEX_WS_API_SECRET=dummy_ws_secret_for_chatgpt_testing
BITFINEX_WS_PUBLIC_URI=wss://api-pub.bitfinex.com/ws/2
BITFINEX_WS_AUTH_URI=wss://api.bitfinex.com/ws/2
BITFINEX_WS_URI=wss://api.bitfinex.com/ws/2

# --- WS-first: symboler & timeframes ---
WS_SUBSCRIBE_SYMBOLS=tBTCUSD,tETHUSD,tADAUSD,tDOTUSD
WS_CANDLE_TIMEFRAMES=1m,5m

# --- Concurrency caps ---
PUBLIC_REST_CONCURRENCY=4
PRIVATE_REST_CONCURRENCY=2

# --- WS pool & cache ---
WS_CONNECT_ON_START=False
WS_USE_POOL=True
WS_PUBLIC_SOCKETS_MAX=1
WS_MAX_SUBS_PER_SOCKET=25
WS_TICKER_WARMUP_MS=400
WS_TICKER_STALE_SECS=10
TICKER_CACHE_TTL_SECS=30
CANDLE_CACHE_RETENTION_DAYS=7
CANDLE_CACHE_MAX_ROWS_PER_PAIR=10000
BACKFILL_BATCH_SLEEP_MS=300

# --- Backoff/Retry & timeouts ---
DATA_HTTP_TIMEOUT=10.0
DATA_MAX_RETRIES=1
DATA_BACKOFF_BASE_MS=1000
DATA_BACKOFF_MAX_MS=5000
ORDER_HTTP_TIMEOUT=15.0
ORDER_MAX_RETRIES=1
ORDER_BACKOFF_BASE_MS=2000
ORDER_BACKOFF_MAX_MS=10000

# --- Rate limit ---
BITFINEX_RATE_LIMIT_ENABLED=True
BITFINEX_RATE_LIMIT_REQUESTS_PER_MINUTE=10
BITFINEX_RATE_LIMIT_BURST_SIZE=1
BITFINEX_RATE_LIMIT_WINDOW_SECONDS=60
BITFINEX_SERVER_BUSY_BACKOFF_MIN_SECONDS=15.0
BITFINEX_SERVER_BUSY_BACKOFF_MAX_SECONDS=60.0

# --- Acceptance ---
ACCEPT_CANDLES_P95_MS_MAX=500
ACCEPT_CANDLES_P99_MS_MAX=1200
ACCEPT_MAX_429_PER_HOUR=1
ACCEPT_MAX_503_PER_HOUR=1

# --- DB & övrigt ---
DATABASE_URL=sqlite:///./tradingbot.db
DEFAULT_TRADING_PAIR=BTCUSD
MAX_POSITION_SIZE=0.01
RISK_PERCENTAGE=2.0
TIMEZONE=UTC
TRADING_RULES_FILE=config/trading_rules.json
MAX_TRADES_PER_DAY=200
MAX_TRADES_PER_SYMBOL_PER_DAY=0
TRADE_COOLDOWN_SECONDS=60
TRADING_PAUSED=False
DRY_RUN_ENABLED=True
TRADE_COUNTER_FILE=config/trade_counter.json
BRACKET_STATE_FILE=config/bracket_state.json
BRACKET_PARTIAL_ADJUST=False

# --- Circuit Breaker ---
CB_ENABLED=True
CB_ERROR_WINDOW_SECONDS=60
CB_MAX_ERRORS_PER_WINDOW=5
CB_NOTIFY=True

# --- Scheduler ---
SCHEDULER_ENABLED=True

# --- Prob-modul (inaktiverat för enkel testning) ---
PROB_MODEL_ENABLED=False
PROB_MODEL_FILE=config/models/BTCUSD_1m.json
PROB_MODEL_CONFIDENCE_MIN=0.15
PROB_MODEL_EV_THRESHOLD=0.0005
PROB_MODEL_TIME_HORIZON=20
PROB_HYBRID_WEIGHT=1.0

PROB_VALIDATE_ENABLED=False
PROB_VALIDATE_INTERVAL_MINUTES=60
PROB_VALIDATE_SYMBOLS=tBTCUSD,tETHUSD,tADAUSD,tDOTUSD
PROB_VALIDATE_TIMEFRAME=1m,5m
PROB_VALIDATE_LIMIT=1200
PROB_VALIDATE_MAX_SAMPLES=500
PROB_VALIDATE_WINDOWS_MINUTES=
PROB_VALIDATE_HISTORY_MAX_POINTS=1000
PROB_VALIDATE_HISTORY_RETENTION_MINUTES=2880

PROB_RETRAIN_ENABLED=False
PROB_RETRAIN_INTERVAL_HOURS=24
PROB_RETRAIN_SYMBOLS=tBTCUSD,tETHUSD,tADAUSD,tDOTUSD
PROB_RETRAIN_TIMEFRAME=1m,5m
PROB_RETRAIN_LIMIT=5000
PROB_RETRAIN_OUTPUT_DIR=config/models

PROB_AUTOTRADE_ENABLED=False
PROB_SIZE_MAX_RISK_PCT=1.0
PROB_SIZE_KELLY_CAP=0.5
PROB_SIZE_CONF_WEIGHT=0.5

POSITION_SIZE_FALLBACK_QUOTE=0.0
PROB_FEATURE_LOG_ENABLED=False
PROB_FEATURE_LOG_MAX_POINTS=500
PROB_FEATURE_LOG_INCLUDE_PRICE=True

# --- Notifieringar (inaktiverat för testning) ---
GITHUB_TOKEN=
GITHUB_PAT=
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=
SMTP_PORT=
SMTP_USER=
SMTP_PASSWORD=
EXCHANGE_ID=

# --- MCP (inaktiverat för testning) ---
MCP_ENABLED=False
SUPABASE_URL=
SUPABASE_ANON_KEY=
SUPABASE_SERVICE_ROLE_KEY=
MCP_SERVER_URL=
SUPABASE_DB_URL=
JWT_SECRET=
