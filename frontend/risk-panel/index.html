<!DOCTYPE html>
<html lang="sv">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Risk Panel</title>
    <link rel="stylesheet" href="/risk-panel/risk-panel.css" />
    <script src="/shared/tb-ui.js"></script>
    <script src="https://cdn.socket.io/4.7.4/socket.io.min.js"></script>
  </head>
  <body>
    <h2>Risk-baserat orderpanel</h2>
    <div class="card">
      <div class="row">
        <div>
          <div class="inline">
            <span class="label">WS:</span>
            <span id="ws-connected" class="badge warn">-</span>
            <span id="ws-auth" class="badge warn">-</span>
          </div>
        </div>
        <div class="inline justify-end gap-12">
          <label class="inline"
            ><input type="checkbox" id="toggle-ws-strategy" /> WS Strategy
            <span id="badge-ws-strategy" class="badge warn">-</span></label
          >
          <label class="inline"
            ><input type="checkbox" id="toggle-validation-warmup" /> Validation
            warmâ€‘up
            <span id="badge-validation" class="badge warn">-</span></label
          >
        </div>
      </div>
    </div>
    <div class="card" id="quick-trade">
      <h3>Quick Trade</h3>
      <div class="row">
        <input id="qt-symbol" placeholder="tBTCUSD" />
        <select id="qt-side">
          <option value="buy">BUY</option>
          <option value="sell">SELL</option>
        </select>
      </div>
      <div class="row">
        <input id="qt-amount" placeholder="Amount (e.g. 0.001)" />
        <input id="qt-price" placeholder="Price (blank = market)" />
      </div>
      <div class="inline gap-8 mt-10">
        <button id="qt-preview" class="secondary">Preview</button>
        <button id="qt-trade">Trade</button>
        <span id="qt-status" class="muted"></span>
      </div>
      <pre class="output" id="qt-out"></pre>
    </div>

    <div class="card" id="errors">
      <h3>Senaste fel</h3>
      <pre class="output" id="err-log"></pre>
    </div>

    <div class="card" id="advanced">
      <details open>
        <summary>Avancerat</summary>
        <div class="card mt-10">
          <details>
            <summary>Validation</summary>
            <div class="row mt-10">
              <input id="val-symbol" placeholder="tBTCUSD" />
              <input id="val-tf" placeholder="1m" />
            </div>
            <div class="row">
              <input id="val-limit" placeholder="Limit (ex 50)" />
              <input id="val-max" placeholder="Max samples (ex 50)" />
            </div>
            <div class="inline gap-8 mt-10">
              <button id="val-run" class="secondary">Run Validation</button>
              <span id="val-status" class="muted"></span>
            </div>
            <pre class="output" id="val-out"></pre>
          </details>
        </div>
        <div class="card mt-10">
          <details>
            <summary>Strategy</summary>
            <div class="row mt-10">
              <input id="st-symbol" placeholder="tBTCUSD (valfritt)" />
              <select id="st-ema">
                <option value="neutral">EMA neutral</option>
                <option value="bullish">EMA bullish</option>
                <option value="bearish">EMA bearish</option>
              </select>
            </div>
            <div class="row">
              <select id="st-rsi">
                <option value="neutral">RSI neutral</option>
                <option value="overbought">RSI overbought</option>
                <option value="oversold">RSI oversold</option>
              </select>
              <select id="st-atr">
                <option value="">ATR (valfritt)</option>
                <option value="high">ATR high</option>
                <option value="low">ATR low</option>
              </select>
            </div>
            <div class="inline gap-8 mt-10">
              <button id="st-eval">Evaluate</button>
              <span id="st-status" class="muted"></span>
            </div>
            <pre class="output" id="st-out"></pre>
          </details>
        </div>
      </details>
    </div>
    <script src="/risk-panel/risk-panel.js"></script>
  </body>
</html>
